# 用户画像

## 一.mysql

### 1.file_info

| 字段         | 解释                    |
| ------------ | ----------------------- |
| id           | 主键，自增              |
| file_name    | 文件名                  |
| file_ex_name | 扩展名                  |
| file_path    | 文件路径                |
| file_system  | 文件系统                |
| file_status  | 文件状态 1 正常 2 弃用' |
| create_time  | 创建时间                |



### 2.tag_common_task

| 字段         | 解释       |
| ------------ | ---------- |
| id           | 主键，自增 |
| task_file_id |            |
| main_class   |            |
| update_time  |            |



### 3. tag_info



| 字段            | 解释                                                  |
| --------------- | ----------------------------------------------------- |
| id              | 主键，自增；KEY `idx_tag_level_id` (`tag_level`,`id`) |
| tag_code        |                                                       |
| tag_name        |                                                       |
| tag_level       |                                                       |
| parent_tag_id   |                                                       |
| tag_type        |                                                       |
| tag_value_type  | 1 整数 2 浮点 3 文本 4 日期                           |
| tag_value_limit | 数值预估上限 数字型填写                               |
| tag_value_step  |                                                       |
| tag_task_id     |                                                       |
| tag_comment     |                                                       |
| update_time     |                                                       |
| create_time     |                                                       |



### 4.task_info

| 字段            | 解释                                                  |
| --------------- | ----------------------------------------------------- |
| id              | 主键，自增                                            |
| task_name       | 任务名称                                              |
| task_status     | 任务状态                                              |
| task_comment    | 任务说明                                              |
| task_time       | 任务作业时间(小时分)KEY `idx_task_time` (`task_time`) |
| task_type       | 任务类型(标签,流程)                                   |
| exec_type       | 执行方式(jar,sparksql)                                |
| main_class      | 启动执行的主类                                        |
| file_id         | 程序jar文件id                                         |
| task_args       | 启动任务的参数                                        |
| task_sql        | 启动的执行的sql                                       |
| task_exec_level | 执行层级                                              |
| create_time     | 创建时间 KEY                                          |
|                 |                                                       |



### 5.task_process

| 字段             | 解释                                                   |
| ---------------- | ------------------------------------------------------ |
| id               | 主键，自增                                             |
| task_id          | 任务id                                                 |
| task_name        | 任务名称                                               |
| ask_exec_time    | 任务触发时间                                           |
| task_busi_date   | 任务执行日期                                           |
| task_exec_status | 任务阶段 TODO ,START,SUBMITTED,RUNNING,FAILED,FINISHED |
| task_exec_level  | 任务执行层级'                                          |
| yarn_app_id      | yarn的application_id                                   |
| batch_id         | 批次id                                                 |
| create_time      | 创建时间                                               |
| start_time       | 启动时间                                               |
| end_time         | 结束时间(包括完成和失败)                               |

### 6.task_tag_rule

| 字段          | 解释          |
| ------------- | ------------- |
| `id`          | 主键，自增    |
| `tag_id`      | 标签主键      |
| `task_id`     | 任务id        |
| `query_value` | 查询值        |
| `sub_tag_id`  | '对应子标签id |
|               |               |



### 7.user_group

| 字段                 | 解释                    |
| -------------------- | ----------------------- |
| `id`                 | 主键，自增              |
| `user_group_name`    | 分群名称'               |
| `condition_json_str` | 分群条件(json)'         |
| `condition_comment`  | 分群条件(描述)          |
| `user_group_num`     | 分群人数                |
| `update_type`        | 更新类型(手动,自动按天) |
| `user_group_comment` | 分群说明                |
| `update_time`        | 更新时间                |
| `create_time`        | 创建时间                |
|                      |                         |

